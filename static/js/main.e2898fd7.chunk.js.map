{"version":3,"sources":["serviceWorker.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Setting/Setting.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","hoc/withSuspense.jsx","App.js","index.js","redux/auth-reducer.js","common/Preloader/Preloader.js","redux/app-reducer.js","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js","components/Navbar/Navbar.module.css","redux/sidebar-reducer.js","redux/redux-store.js","utils/validators/object-helpers.js","redux/users-reducer.js","assets/images/preloader.svg"],"names":["Boolean","window","location","hostname","match","Navbar","react_default","a","createElement","className","s","nav","item","react_router_dom","to","activeClassName","activLink","Music","News","Setting","Header","props","header","src","loginBlock","isAuth","login","onClick","logout","HeaderContainer","components_Header_Header","this","React","Component","connect","state","auth","withSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","Promise","all","__webpack_require__","e","then","bind","UsersContainer","DialogsContainer","Login","App","initializeApp","initialized","Header_HeaderContainer","components_Navbar_Navbar","react_router","path","render","AppContainer","compose","withRouter","app","MainApp","es","store","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","initialState","userId","email","captchaUrl","setAuthUserData","type","payload","getCaptchaUrlSuccess","getAuthUserData","_ref","Object","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","W_Projects_social_network_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","dispatch","response","_response$data$data","id","_login","wrap","_context","prev","next","authAPI","me","sent","data","resultCode","stop","_x","apply","arguments","password","rememberMe","captcha","_ref2","_callee2","message","_context2","getCaptchaUrl","messages","stopSubmit","_error","_x2","_ref3","_callee3","_context3","_x3","_ref4","_callee4","_context4","securityAPI","url","_x4","authReducer","length","undefined","action","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_1___default","preloader","appReducer","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","module","exports","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","status","getUserProfile","Response","profileAPI","getProfile","getStatus","updateStatus","savePhoto","file","photos","saveProfile","_ref5","_callee5","getState","_context5","abrupt","reject","_x5","_x6","profileReducer","newPost","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","concat","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","filter","p","postId","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","d","__webpack_exports__","usersAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","Axios","baseURL","withCredentials","headers","API-KEY","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","put","photoFile","formData","FormData","append","Content-Type","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","usersReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","_store","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","objectSpread","users","totalUsersCount","isFetching","fololowingProgess","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFololowingProgess","requestUsers","page","asyncToGenerator","regenerator_default","count","totalCount","followUnfollwFlow","apiMethod","actionCreator","_x7","followed","toConsumableArray"],"mappings":"qPAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,kLCSSC,EAvBA,WACX,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEC,KACrBL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBL,IAAEM,WAA1C,aAEJV,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBL,IAAEM,WAA1C,cAEJV,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,SAASC,gBAAiBL,IAAEM,WAAxC,WAEJV,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,QAAQC,gBAAiBL,IAAEM,WAAvC,SAEJV,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,SAASC,gBAAiBL,IAAEM,WAAxC,UAEJV,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEE,MACdN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBL,IAAEM,WAA1C,sBCXGC,UARD,WACV,OACAX,EAAAC,EAAAC,cAAA,sBCMWU,UARF,WACT,OACIZ,EAAAC,EAAAC,cAAA,qBCMOW,UARC,WACZ,OACIb,EAAAC,EAAAC,cAAA,yCCSOY,EAVA,SAACC,GACZ,OAAOf,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAEY,QAC5BhB,EAAAC,EAAAC,cAAA,OAAKe,IAAI,iEACTjB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEc,YACfH,EAAMI,OAASnB,EAAAC,EAAAC,cAAA,eAAOa,EAAMK,MAAb,IAAoBpB,EAAAC,EAAAC,cAAA,UAAQmB,QAASN,EAAMO,QAAvB,UAApB,MACdtB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAASC,GAAG,UAAZ,4BCJFe,mLAEF,OAAOvB,EAAAC,EAAAC,cAACsB,EAAWC,KAAKV,cAFEW,IAAMC,WAWrBC,cALO,SAACC,GAAD,MAAY,CAChCV,OAAQU,EAAMC,KAAKX,OACnBC,MAAOS,EAAMC,KAAKV,QAGqB,CAACE,YAA3BM,CAAqCL,mCCbvCQ,EAAe,SAACJ,GACzB,OAAO,SAACZ,GACJ,OAAOf,EAAAC,EAAAC,cAACF,EAAAC,EAAM+B,SAAP,CAAgBC,SAAUjC,EAAAC,EAAAC,cAACgC,EAAA,EAAD,OAC7BlC,EAAAC,EAAAC,cAACyB,EAAcZ,MCUrBoB,EAAmBT,IAAMU,KAAK,kBAAMC,QAAAC,IAAA,CAAAC,EAAAC,EAAA,GAAAD,EAAAC,EAAA,KAAAC,KAAAF,EAAAG,KAAA,aACpCC,EAAiBjB,IAAMU,KAAK,kBAAMG,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,aAClCE,EAAmBlB,IAAMU,KAAK,kBAAMC,QAAAC,IAAA,CAAAC,EAAAC,EAAA,GAAAD,EAAAC,EAAA,KAAAC,KAAAF,EAAAG,KAAA,aACpCG,EAAQnB,IAAMU,KAAK,kBAAMC,QAAAC,IAAA,CAAAC,EAAAC,EAAA,GAAAD,EAAAC,EAAA,KAAAC,KAAAF,EAAAG,KAAA,aAKzBI,8LAEErB,KAAKV,MAAMgC,iDAGX,OAAKtB,KAAKV,MAAMiC,YAIZhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAC+C,EAAD,MACAjD,EAAAC,EAAAC,cAACgD,EAAD,MACAlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,SACRC,OAAQtB,EAAac,KACzB7C,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,WACRC,OAAQtB,EAAaa,KACzB5C,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,oBACRC,OAAQtB,EAAaI,KACzBnC,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,SACRC,OAAQtB,EAAaY,KACzB3C,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,SAASC,OAAQ1C,IAC7BX,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,QAAQC,OAAQzC,IAC5BZ,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAOC,KAAK,WAAWC,OAAQxC,MAjBhCb,EAAAC,EAAAC,cAACgC,EAAA,EAAD,aANDP,aAkCd2B,EAAeC,YACfC,IACA5B,YANoB,SAACC,GAAD,MAAY,CAChCmB,YAAanB,EAAM4B,IAAIT,cAKE,CAAED,oBAFZQ,CAGjBT,GAUaY,EARD,SAAC3C,GACX,OAAOf,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACHP,EAAAC,EAAAC,cAAEyD,EAAA,EAAF,CAAWC,MAAOA,KACd5D,EAAAC,EAAAC,cAACoD,EAAD,SC3DRO,IAASR,OACLrD,EAAAC,EAAAC,cAAC4D,EAAD,MAAcC,SAASC,eAAe,STyHxC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1B,KAAK,SAAA2B,GACjCA,EAAaC,iMU7HfC,EAAe,CACfC,OAAQ,KACRC,MAAO,KACPpD,MAAO,KACPD,QAAQ,EACRsD,WAAY,MAkBHC,EAAkB,SAACH,EAAQC,EAAOpD,EAAOD,GAAvB,MAAmC,CAC9DwD,KA3BkB,gBA2BGC,QACjB,CAAEL,SAAQC,QAAOpD,QAAOD,YAGnB0D,EAAuB,SAACJ,GAAD,MAAiB,CAACE,KAAM,0BAA2BC,QAAS,CAACH,gBAEpFK,EAAkB,iCAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAM,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAAC,EAAAC,EAAAjB,EAAA,OAAAU,EAAAjF,EAAAyF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACZC,IAAQC,KADI,OAEA,KAD7BT,EAD6BK,EAAAK,MAEpBC,KAAKC,aAAkBX,EACLD,EAASW,KAAKA,KAAnCT,EAD0BD,EAC1BC,GAAIpE,EADsBmE,EACtBnE,MAAOoD,EADee,EACff,MACjBa,EAASX,EAAgBc,EAAIhB,EAAOpD,GAAO,KAJd,wBAAAuE,EAAAQ,SAAAf,MAAN,gBAAAgB,GAAA,OAAArB,EAAAsB,MAAA5E,KAAA6E,YAAA,IAQlBlF,EAAQ,SAACoD,EAAO+B,EAAUC,EAAYC,GAA9B,sBAAAC,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAA0C,SAAAwB,EAAOtB,GAAP,IAAAC,EAAAsB,EAAA,OAAA1B,EAAAjF,EAAAyF,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EACtCC,IAAQ1E,MAAMoD,EAAO+B,EAAUC,EAAYC,GADL,OAE1B,KAD7BnB,EADuDuB,EAAAb,MAE9CC,KAAKC,WACdb,EAASP,MAEwB,KAA7BQ,EAASW,KAAKC,YACdb,EAASyB,KAETF,EAAUtB,EAASW,KAAKc,SAAS,GACrC1B,EAAS2B,YAAW,QAAS,CAAEC,OAAQL,MATgB,wBAAAC,EAAAV,SAAAQ,MAA1C,gBAAAO,GAAA,OAAAR,EAAAL,MAAA5E,KAAA6E,YAAA,IAaRhF,EAAS,iCAAA6F,EAAAnC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAM,SAAAiC,EAAO/B,GAAP,OAAAH,EAAAjF,EAAAyF,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,cAAAwB,EAAAxB,KAAA,EACHC,IAAQxE,SADL,OAES,IAFT+F,EAAArB,KAEXC,KAAKC,YACdb,EAASX,EAAgB,KAAM,KAAM,MAAM,IAHvB,wBAAA2C,EAAAlB,SAAAiB,MAAN,gBAAAE,GAAA,OAAAH,EAAAd,MAAA5E,KAAA6E,YAAA,IAOTQ,EAAgB,iCAAAS,EAAAvC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAM,SAAAqC,EAAOnC,GAAP,IAAAC,EAAAb,EAAA,OAAAS,EAAAjF,EAAAyF,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cAAA4B,EAAA5B,KAAA,EACV6B,IAAYZ,gBADF,OAC3BxB,EAD2BmC,EAAAzB,KAE3BvB,EAAaa,EAASW,KAAK0B,IAC/BtC,EAASR,EAAqBJ,IAHC,wBAAAgD,EAAAtB,SAAAqB,MAAN,gBAAAI,GAAA,OAAAL,EAAAlB,MAAA5E,KAAA6E,YAAA,IAMduB,IAxDK,WAAkC,IAAjChG,EAAiCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAzBhC,EAAc0D,EAAW1B,UAAAwB,OAAA,EAAAxB,UAAA,QAAAyB,EAClD,OAAQC,EAAOrD,MACX,IAbc,gBAcd,IAbwB,0BAcpB,OAAOK,OAAAiD,EAAA,EAAAjD,CAAA,GACAnD,EACAmG,EAAOpD,SAGlB,QACI,OAAO/C,0ECfJK,IALC,SAACnB,GACb,OAAOmH,EAAAjI,EAAAC,cAAA,WACHgI,EAAAjI,EAAAC,cAAA,OAAKe,IAAKkH,4FCDd7D,EAAe,CACftB,aAAa,GAmBJD,EAAgB,kBAAM,SAACsC,GAClBA,EAASP,eACfrC,KAAK,kBAAM4C,EAJkB,CAACV,KArBd,4BA4BbyD,IArBI,WAAkC,IAAjCvG,EAAiCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAzBhC,EACxB,QADiDgC,UAAAwB,OAAA,EAAAxB,UAAA,QAAAyB,GAClCpD,MACX,IAToB,sBAUhB,OAAOK,OAAAqD,EAAA,EAAArD,CAAA,GACAnD,EADP,CAEImB,aAAa,IAGrB,QACI,OAAOnB,wBCjBnByG,EAAAC,QAAA,CAAkBvH,OAAA,uBAAAE,WAAA,sTCQdoD,EAAe,CACfkE,MAAO,CACH,CAAEhD,GAAI,EAAGoB,QAAS,SAAU6B,WAAY,IACxC,CAAEjD,GAAI,EAAGoB,QAAS,qBAAuB6B,WAAY,IACrD,CAAEjD,GAAI,EAAGoB,QAAS,SAAU6B,WAAY,IACxC,CAAEjD,GAAI,EAAGoB,QAAS,OAAQ6B,WAAY,KAE1CC,QAAS,MAyCAC,EAAuB,SAACC,GAAD,MAAkB,CAAEjE,KAtDvC,WAsDuDiE,gBAE3DC,EAAY,SAACC,GAAD,MAAa,CAAEnE,KAtDrB,aAsDuCmE,WAK7CC,EAAiB,SAACxE,GAAD,sBAAAQ,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAY,SAAAC,EAAOC,GAAP,IAAA2D,EAAA,OAAA9D,EAAAjF,EAAAyF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACjBoD,IAAWC,WAAW3E,GADL,OAClCyE,EADkCrD,EAAAK,KAEtCX,EARwC,CAAEV,KAtDpB,oBAsD6C+D,QAQ3CM,EAAS/C,OAFK,wBAAAN,EAAAQ,SAAAf,MAAZ,gBAAAgB,GAAA,OAAArB,EAAAsB,MAAA5E,KAAA6E,YAAA,IAKjB6C,EAAY,SAAC5E,GAAD,sBAAAmC,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAY,SAAAwB,EAAOtB,GAAP,IAAA2D,EAAA,OAAA9D,EAAAjF,EAAAyF,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EACZoD,IAAWE,UAAU5E,GADT,OAC7ByE,EAD6BnC,EAAAb,KAEjCX,EAASwD,EAAUG,EAAS/C,OAFK,wBAAAY,EAAAV,SAAAQ,MAAZ,gBAAAO,GAAA,OAAAR,EAAAL,MAAA5E,KAAA6E,YAAA,IAKZ8C,EAAe,SAACN,GAAD,sBAAA3B,EAAAnC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAY,SAAAiC,EAAO/B,GAAP,OAAAH,EAAAjF,EAAAyF,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,cAAAwB,EAAAxB,KAAA,EACfoD,IAAWG,aAAaN,GADT,OAEH,IAFGzB,EAAArB,KAEvBC,KAAKC,YACdb,EAASwD,EAAUC,IAHa,wBAAAzB,EAAAlB,SAAAiB,MAAZ,gBAAAE,GAAA,OAAAH,EAAAd,MAAA5E,KAAA6E,YAAA,IAOf+C,EAAY,SAACC,GAAD,sBAAA/B,EAAAvC,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAU,SAAAqC,EAAOnC,GAAP,IAAA2D,EAAA,OAAA9D,EAAAjF,EAAAyF,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cAAA4B,EAAA5B,KAAA,EACVoD,IAAWI,UAAUC,GADX,OAEE,KAD7BN,EAD2BvB,EAAAzB,MAElBC,KAAKC,YACdb,EAvBqC,CAAEV,KAtDpB,qBAsD8C4E,OAuBvCP,EAAS/C,KAAKA,KAAKsD,SAHlB,wBAAA9B,EAAAtB,SAAAqB,MAAV,gBAAAI,GAAA,OAAAL,EAAAlB,MAAA5E,KAAA6E,YAAA,IAOZkD,EAAc,SAACd,GAAD,sBAAAe,EAAAzE,OAAAC,EAAA,EAAAD,CAAAE,EAAAjF,EAAAkF,KAAa,SAAAuE,EAAOrE,EAAUsE,GAAjB,IAAAX,EAAAzE,EAAA,OAAAW,EAAAjF,EAAAyF,KAAA,SAAAkE,GAAA,cAAAA,EAAAhE,KAAAgE,EAAA/D,MAAA,cAAA+D,EAAA/D,KAAA,EACboD,IAAWO,YAAYd,GADV,UAC9BM,EAD8BY,EAAA5D,KAE9BzB,EAASoF,IAAW7H,KAAKyC,OACE,IAA7ByE,EAAS/C,KAAKC,WAHkB,CAAA0D,EAAA/D,KAAA,QAIhCR,EAAS0D,EAAexE,IAJQqF,EAAA/D,KAAA,uBAMhCR,EAAS2B,YAAW,eAAgB,CAAEC,OAAQ+B,EAAS/C,KAAKc,SAAS,MANrC6C,EAAAC,OAAA,SAOzBxH,QAAQyH,OAAOd,EAAS/C,KAAKc,SAAS,KAPb,yBAAA6C,EAAAzD,SAAAuD,MAAb,gBAAAK,EAAAC,GAAA,OAAAP,EAAApD,MAAA5E,KAAA6E,YAAA,IAWZ2D,IAhFQ,WAAkC,IAAjCpI,EAAiCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAzBhC,EAAc0D,EAAW1B,UAAAwB,OAAA,EAAAxB,UAAA,QAAAyB,EAErD,OAAQC,EAAOrD,MACX,IAnBS,WAoBL,IAAIuF,EAAU,CACV1E,GAAI,EACJoB,QAASoB,EAAOY,YAChBH,WAAY,GAEhB,OAAOzD,OAAAmF,EAAA,EAAAnF,CAAA,GACAnD,EADP,CACc2G,MAAK,GAAA4B,OAAApF,OAAAqF,EAAA,EAAArF,CAAMnD,EAAM2G,OAAZ,CAAmB0B,IAAUtB,YAAa,KAGjE,IA5BkB,oBA6Bd,OAAO5D,OAAAmF,EAAA,EAAAnF,CAAA,GACAnD,EADP,CACc6G,QAASV,EAAOU,UAGlC,IAhCW,aAiCP,OAAO1D,OAAAmF,EAAA,EAAAnF,CAAA,GACAnD,EADP,CACciH,OAAQd,EAAOc,SAGjC,IApCY,cAqCR,OAAO9D,OAAAmF,EAAA,EAAAnF,CAAA,GACAnD,EADP,CACc2G,MAAO3G,EAAM2G,MAAM8B,OAAO,SAAAC,GAAC,OAAIA,EAAE/E,IAAMwC,EAAOwC,WAE/D,IAvCkB,qBAwCf,OAAOxF,OAAAmF,EAAA,EAAAnF,CAAA,GACAnD,EADP,CACc6G,QAAQ1D,OAAAmF,EAAA,EAAAnF,CAAA,GAAKnD,EAAM6G,QAAZ,CAAqBa,OAAOvB,EAAOuB,WAG5D,QACI,OAAO1H,wFClDfyC,EAAe,CACfmG,QAAS,CACL,CAAEjF,GAAI,EAAGkF,KAAM,SACf,CAAElF,GAAI,EAAGkF,KAAM,SACf,CAAElF,GAAI,EAAGkF,KAAM,UACf,CAAElF,GAAI,EAAGkF,KAAM,WAEnB3D,SAAU,CACN,CAAEvB,GAAI,EAAGoB,QAAS,MAClB,CAAEpB,GAAI,EAAGoB,QAAS,eAClB,CAAEpB,GAAI,EAAGoB,QAAS,MAClB,CAAEpB,GAAI,EAAGoB,QAAS,QAiBb+D,EAAqB,SAACC,GAAD,MAAqB,CAAEjG,KA9BpC,eA8BwDiG,mBAE9DC,IAfQ,WAAkC,IAAjChJ,EAAiCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAzBhC,EAAc0D,EAAW1B,UAAAwB,OAAA,EAAAxB,UAAA,QAAAyB,EACrD,OAAQC,EAAOrD,MACX,IAnBa,eAoBT,IAAImG,EAAO9C,EAAO4C,eAClB,OAAO5F,OAAA+F,EAAA,EAAA/F,CAAA,GACAnD,EADP,CACckF,SAAQ,GAAAqD,OAAApF,OAAAgG,EAAA,EAAAhG,CAAMnD,EAAMkF,UAAZ,CAAsB,CAAEvB,GAAI,EAAGoB,QAASkE,OAGlE,QACI,OAAOjJ,oCC1BnBU,EAAA0I,EAAAC,EAAA,sBAAAC,IAAA5I,EAAA0I,EAAAC,EAAA,sBAAAjC,IAAA1G,EAAA0I,EAAAC,EAAA,sBAAApF,IAAAvD,EAAA0I,EAAAC,EAAA,sBAAAxD,IAAA,IAAA0D,EAAA7I,EAAA,IAEa8I,EAAWC,SAAa,CACjCC,QAAO,gDACPC,iBAAiB,EACjBC,QAAS,CAAEC,UAAW,0CAGbP,EAAW,CACpBQ,SADoB,SACVC,EAAaC,GAAW,OAAOR,EAASS,IAAT,cAAA1B,OAA2BwB,EAA3B,WAAAxB,OAAgDyB,KACzFE,OAFoB,SAEZxH,GAAS,OAAO8G,EAASW,KAAT,UAAA5B,OAAwB7F,KAChD0H,SAHoB,SAGV1H,GAAS,OAAO8G,EAASa,OAAT,UAAA9B,OAA0B7F,MAG3C0E,EAAa,CACtBC,WADsB,SACV3E,GAAS,OAAO8G,EAASS,IAAI,WAAavH,IACtD4E,UAFsB,SAEX5E,GAAS,OAAO8G,EAASS,IAAI,kBAAmBvH,IAC3D6E,aAHsB,SAGRN,GAAS,OAAOuC,EAASc,IAAT,iBAA+B,CAACrD,YAC9DO,UAJsB,SAIZ+C,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBf,EAASc,IAAT,gBAA8BE,EAAU,CAC3CZ,QAAS,CACLe,eAAgB,0BAG5BhD,YAZsB,SAYVd,GAAU,OAAO2C,EAASc,IAAT,UAAwBzD,KAG5C5C,EAAU,CACnBC,GADmB,WACZ,OAAOsF,EAASS,IAAT,YACd1K,MAFmB,SAEZoD,EAAO+B,GACd,IADwBC,EACxBF,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,IAAAA,UAAA,GAD4CG,EAC5CH,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GADsD,KACrD,OAAO+E,EAASW,KAAT,aAA4B,CAACxH,QAAO+B,WAAUC,aAAYC,aAClEnF,OAJmB,WAIT,OAAO+J,EAASa,OAAT,gBAGRxE,EAAc,CACvBZ,cADuB,WACN,OAAOuE,EAASS,IAAT,iDCpC5BxD,EAAAC,QAAA,CAAkBlI,IAAA,oBAAAC,KAAA,qBAAAI,UAAA,gGCDd4D,EAAe,GAOJmI,EALQ,WAAiC,IAAhC5K,EAAgCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAxBhC,EAAwBgC,UAAAwB,OAAA,GAAAxB,UAAA,GAEpD,OAAOzE,mCCMP6K,EAAWC,YAAgB,CAC3BC,YAAa3C,IACb4C,YAAahC,IACbiC,QAASL,EACTM,UAAWC,IACXlL,KAAM+F,IACNoF,KAAMC,IACNzJ,IAAK2E,MAGH+E,EAAmBxN,OAAOyN,sCAAwC7J,IAClEK,EAAQyJ,YAAYX,EAAUS,EAAiBG,YAAgBC,OAErE5N,OAAO6N,OAAS5J,EAEDA,wFCzBF6J,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,IAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ3I,OAAAgJ,EAAA,EAAAhJ,CAAA,GAAI+I,EAAMF,GAEdE,qKCFf,IAQIzJ,EAAe,CACf2J,MAAO,GACPpC,SAAU,GACVqC,gBAAiB,EACjBtC,YAAa,EACbuC,YAAY,EACZC,kBAAmB,IA0CVC,EAAgB,SAAC9J,GAAD,MAAa,CAAEI,KAxD7B,SAwD2CJ,WAC7C+J,EAAkB,SAAC/J,GAAD,MAAa,CAAEI,KAxD7B,WAwD6CJ,WAEjDgK,EAAiB,SAAC3C,GAAD,MAAkB,CAAEjH,KAxDzB,mBAwDiDiH,gBAE7D4C,EAAmB,SAACL,GAAD,MAAiB,CAAExJ,KAxDxB,qBAwDkDwJ,eAChEM,EAA4B,SAACN,EAAY5J,GAAb,MAAyB,CAAEI,KAxD/B,+BAwDmEwJ,aAAY5J,WAEvGmK,EAAe,SAACC,EAAM9C,GAAe,sBAAA9G,EAAAC,OAAA4J,EAAA,EAAA5J,CAAA6J,EAAA5O,EAAAkF,KAAO,SAAAC,EAAOC,GAAP,IAAA2D,EAAA,OAAA6F,EAAA5O,EAAAyF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrDR,EAASmJ,GAAiB,IAC1BnJ,EAASkJ,EAAeI,IAF6BhJ,EAAAE,KAAA,EAGhCsF,IAASQ,SAASgD,EAAM9C,GAHQ,OAGjD7C,EAHiDrD,EAAAK,KAIrDX,EAASmJ,GAAiB,IAC1BnJ,EAXgC,CAAEV,KAxDpB,YAwDqCsJ,MAWjCjF,EAAS/C,KAAKyH,QAChCrI,EAVoD,CAAEV,KAxD5B,wBAwDyDmK,MAUvD9F,EAAS/C,KAAK8I,aANW,wBAAApJ,EAAAQ,SAAAf,MAAP,gBAAAgB,GAAA,OAAArB,EAAAsB,MAAA5E,KAAA6E,YAAA,IASrC0I,EAAiB,eAAAtI,EAAA1B,OAAA4J,EAAA,EAAA5J,CAAA6J,EAAA5O,EAAAkF,KAAG,SAAAwB,EAAOpC,EAAQc,EAAU4J,EAAWC,GAApC,OAAAL,EAAA5O,EAAAyF,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAC7BR,EAASoJ,GAA0B,EAAMlK,IADZsC,EAAAhB,KAAA,EAERoJ,EAAU1K,GAFF,OAGI,IAHJsC,EAAAb,KAGhBC,KAAKC,YACdb,EAAS6J,EAAc3K,IAE3Bc,EAASoJ,GAA0B,EAAOlK,IANb,wBAAAsC,EAAAV,SAAAQ,MAAH,gBAAAO,EAAAI,EAAAM,EAAAmC,GAAA,OAAArD,EAAAL,MAAA5E,KAAA6E,YAAA,GASjByF,EAAS,SAACxH,GAAa,sBAAA4C,EAAAnC,OAAA4J,EAAA,EAAA5J,CAAA6J,EAAA5O,EAAAkF,KAAO,SAAAiC,EAAO/B,GAAP,OAAAwJ,EAAA5O,EAAAyF,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,OACvCmJ,EAAkBzK,EAAQc,EAAU8F,IAASY,OAAOrJ,KAAK6B,GAAS8J,GAD3B,wBAAAhH,EAAAlB,SAAAiB,MAAP,gBAAA4C,GAAA,OAAA7C,EAAAd,MAAA5E,KAAA6E,YAAA,IAIvB2F,EAAW,SAAC1H,GAAa,sBAAAgD,EAAAvC,OAAA4J,EAAA,EAAA5J,CAAA6J,EAAA5O,EAAAkF,KAAO,SAAAqC,EAAOnC,GAAP,OAAAwJ,EAAA5O,EAAAyF,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,OACzCmJ,EAAkBzK,EAAQc,EAAU8F,IAASc,SAASvJ,KAAK6B,GAAS+J,GAD3B,wBAAA7G,EAAAtB,SAAAqB,MAAP,gBAAA2H,GAAA,OAAA5H,EAAAlB,MAAA5E,KAAA6E,YAAA,IAKvB0G,IA1EM,WAAkC,IAAjCnL,EAAiCyE,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAzBhC,EAAc0D,EAAW1B,UAAAwB,OAAA,EAAAxB,UAAA,QAAAyB,EACnD,OAAQC,EAAOrD,MACX,IAnBO,SAoBH,OAAOK,OAAAgJ,EAAA,EAAAhJ,CAAA,GACAnD,EADP,CAEIoM,MAAOR,EAAoB5L,EAAMoM,MAAOjG,EAAOzD,OAAQ,KAAM,CAAC6K,UAAU,MAGhF,IAxBS,WAyBL,OAAOpK,OAAAgJ,EAAA,EAAAhJ,CAAA,GACAnD,EADP,CAEIoM,MAAOR,EAAoB5L,EAAMoM,MAAOjG,EAAOzD,OAAQ,KAAM,CAAC6K,UAAU,MAGhF,IAzB6B,+BA0BzB,OAAOpK,OAAAgJ,EAAA,EAAAhJ,CAAA,GACAnD,EADP,CAEIuM,kBAAmBpG,EAAOmG,WAAP,GAAA/D,OAAApF,OAAAqK,EAAA,EAAArK,CACTnD,EAAMuM,mBADG,CACgBpG,EAAOzD,SACpC1C,EAAMuM,kBAAkB9D,OAAO,SAAA9E,GAAE,OAAIA,GAAMwC,EAAOzD,WAGhE,IArCU,YAsCN,OAAOS,OAAAgJ,EAAA,EAAAhJ,CAAA,GAAKnD,EAAZ,CAAmBoM,MAAOjG,EAAOiG,QAErC,IAvCiB,mBAwCb,OAAOjJ,OAAAgJ,EAAA,EAAAhJ,CAAA,GAAKnD,EAAZ,CAAmB+J,YAAa5D,EAAO4D,cAE3C,IAzCsB,wBA0ClB,OAAO5G,OAAAgJ,EAAA,EAAAhJ,CAAA,GAAKnD,EAAZ,CAAmBqM,gBAAiBlG,EAAO8G,QAE/C,IA3CmB,qBA4Cf,OAAO9J,OAAAgJ,EAAA,EAAAhJ,CAAA,GAAKnD,EAAZ,CAAmBsM,WAAYnG,EAAOmG,aAE1C,QACI,OAAOtM,wBCvDnByG,EAAAC,QAAiBhG,EAAAgI,EAAuB","file":"static/js/main.e2898fd7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/Profile\" activeClassName={s.activLink}> Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/Dialogs\" activeClassName={s.activLink}> Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/Users\" activeClassName={s.activLink}> Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/News\" activeClassName={s.activLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/Music\" activeClassName={s.activLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/Setting\" activeClassName={s.activLink}>Setting</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Music.module.css'\r\n\r\nconst Music = () => {\r\n    return(\r\n    <div>\r\n        Music\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './News.module.css'\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Setting.module.css'\r\n\r\nconst Setting = () => {\r\n    return (\r\n        <div>\r\n            Setting\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting;","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n    <img src='https://securenews.ru/wp-content/uploads/2016/12/Network.jpg' />\r\n    <div className={s.loginBlock}>\r\n      {props.isAuth ? <div> {props.login} <button onClick={props.logout} >Logaut</button>  </div>\r\n      : <NavLink to='/login'>Login</NavLink>}\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport Setting from \"./components/Setting/Setting\";\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeApp } from './redux/app-reducer'\r\nimport Preloader from './common/Preloader/Preloader';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\nimport store from \"./redux/redux-store\";\r\nimport { withSuspense } from './hoc/withSuspense';\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst Login = React.lazy(() => import('./components/Login/Login'))\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className=\"app-wrapper-content\">\r\n                    <Route path='/login'\r\n                        render={withSuspense(Login)} />\r\n                    <Route path='/dialogs'\r\n                        render={withSuspense(DialogsContainer)} />\r\n                    <Route path='/profile/:userId?'\r\n                        render={withSuspense(ProfileContainer)} />\r\n                    <Route path='/users'\r\n                        render={withSuspense(UsersContainer)} />\r\n                    <Route path='/music' render={Music} />\r\n                    <Route path='/news' render={News} />\r\n                    <Route path='/setting' render={Setting} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n\r\nlet MainApp = (props) => {\r\n    return <HashRouter >\r\n        < Provider store={store} >\r\n            <AppContainer />\r\n        </Provider >\r\n    </HashRouter >\r\n}\r\n\r\nexport default MainApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\n\n    ReactDOM.render(\n        <MainApp /> , document.getElementById('root'));\n\n\n\n\n\n// API\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: \"GET_CAPTCHA_URL_SUCCESS\", payload: {captchaUrl} })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages[0];\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    let captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport default authReducer;","import preloader from '../../assets/images/preloader.svg';\r\nimport React from 'react';\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\nexport default Preloader;","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => dispatch(initializedSuccess()))\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__39vyy\",\"loginBlock\":\"Header_loginBlock__3PBbV\"};","import { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Blabla', likesCount: 12 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\r\n        { id: 3, message: 'Blabla', likesCount: 11 },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ],\r\n    profile: null,\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state, posts: [...state.posts, newPost], newPostText: ''\r\n            }\r\n        }\r\n        case SET_USERS_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos:action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USERS_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let Response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(Response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let Response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(Response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let Response = await profileAPI.updateStatus(status)\r\n    if (Response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let Response = await profileAPI.savePhoto(file)\r\n    if (Response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(Response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const Response = await profileAPI.saveProfile(profile);\r\n    const userId = getState().auth.userId;\r\n    if (Response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", { _error: Response.data.messages[0] }));\r\n        return Promise.reject(Response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Sanek' },\r\n        { id: 2, name: 'Sasha' },\r\n        { id: 3, name: 'Zayats' },\r\n        { id: 4, name: 'Valera' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Bla Bla Bla' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state, messages: [...state.messages, { id: 5, message: body }] \r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","import * as Axios from \"axios\";\r\n\r\nexport const instance = Axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: { \"API-KEY\": \"0a4d5e42-bfac-4525-abce-dd128f2c8444\" }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage, pageSize) {return instance.get(`users?page=${currentPage}&count=${pageSize}`)},\r\n    follow (userId) {return instance.post(`follow/${userId}`)},\r\n    unfollow (userId) {return instance.delete(`follow/${userId}`)},\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {return instance.get(`profile/` + userId)},\r\n    getStatus (userId) {return instance.get(`profile/status/`+ userId)},\r\n    updateStatus (status) {return instance.put(`profile/status`, {status})},\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multypart/form-data'\r\n            }\r\n        })},\r\n    saveProfile(profile) {return instance.put(`profile`, profile)}\r\n}\r\n\r\nexport const authAPI = {\r\n    me () {return instance.get(`auth/me`)},\r\n    login (email, password, rememberMe = false, captcha = null) \r\n    {return instance.post(`auth/login`, {email, password, rememberMe, captcha})},\r\n    logout() {return instance.delete(`auth/login`)},\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {return instance.get(`security/get-captcha-url`)}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3bC19\",\"item\":\"Navbar_item__1DCzz\",\"activLink\":\"Navbar_activLink__BkU4j\"};","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) =>{\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow._store = store;\r\n\r\nexport default store;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    fololowingProgess: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                fololowingProgess: action.isFetching\r\n                    ? [...state.fololowingProgess, action.userId]\r\n                    : state.fololowingProgess.filter(id => id != action.userId)\r\n            }\r\n\r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleIsFololowingProgess = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => { return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let Response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(Response.data.items));\r\n    dispatch(setTotalUsersCount(Response.data.totalCount));\r\n}}\r\n\r\nexport const followUnfollwFlow = async (userId, dispatch, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFololowingProgess(true, userId));\r\n    let Response = await apiMethod(userId);\r\n    if (Response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFololowingProgess(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => { return async (dispatch) => {\r\n    followUnfollwFlow(userId, dispatch, usersAPI.follow.bind(userId), followSuccess);\r\n}}\r\n\r\nexport const unfollow = (userId) => { return async (dispatch) => {\r\n    followUnfollwFlow(userId, dispatch, usersAPI.unfollow.bind(userId), unfollowSuccess);\r\n}}\r\n\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.0171b6bb.svg\";"],"sourceRoot":""}