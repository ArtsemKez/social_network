{"version":3,"sources":["common/FormsControls/FormsControls.module.css","utils/validators/validators.js","common/FormsControls/FormsControls.js","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","formControl","error","formSammaryError","__webpack_require__","d","__webpack_exports__","required","maxLengthCreater","value","maxLength","length","concat","FormControl","_ref","input","meta","props","child","Object","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","ErrorText","touched","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","children","Textarea","restProps","assign","Input","createField","placeholder","component","name","validators","type","text","arguments","undefined","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","W_Projects_social_network_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","React","connect","dialogs","dialogsItems","dialog","messages","message","DialogItem","react_default","s","active","react_router_dom","id","Message","addNewMessage","sendMessage","newMessageBody","maxLength100","MessagesReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","Dialogs","dialogsPage","dialogsElements","map","Dialogs_DialogItem_DialogItem","messagesElements","m","Dialogs_Message_Message","react_router","compose","dispatch","sendMessageCreator"],"mappings":"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","file":"static/js/6.8666e2be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3da9S\",\"error\":\"FormsControls_error__dwL8B\",\"formSammaryError\":\"FormsControls_formSammaryError__2msK4\"};","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Field as requaired\"\r\n}\r\n\r\nexport const maxLengthCreater = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} simbols`;\r\n    return undefined;\r\n}","import React from 'react';\r\nimport styles from './FormsControls.module.css'\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const ErrorText = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (ErrorText ? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div>\r\n                {ErrorText && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input  {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, component, name, validators, type, text=\"\", props={}) => (\r\n    <div>\r\n        <Field placeholder={placeholder} component={component} name={name} validate={validators} type={type} \r\n        {...props}  />{text}\r\n    </div>\r\n)","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) { return <Redirect to={\"/login\"} /> }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect) (RedirectComponent);\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__5SADx\",\"dialogsItems\":\"Dialogs_dialogsItems__3HBGU\",\"dialog\":\"Dialogs_dialog__3Qudt\",\"messages\":\"Dialogs_messages__3YTp0\",\"message\":\"Dialogs_message__1W30R\"};","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst DialogItem = (props) => {\r\n    return(\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={\"/Dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst Message = ({ message }) => {\r\n    return(\r\n        <div className={s.message}>{message}</div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { sendMessageCreator } from \"../../redux/dialogs-reducer\";\r\nimport store from \"../../redux/redux-store\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport { required, maxLengthCreater } from '../../utils/validators/validators';\r\n\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} />);\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n    let onSendMessageClick = () => {\r\n        props.sendMessage();\r\n    }\r\n\r\n    if (!props.isAuth) { return <Redirect to={\"/login\"} /> }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                <MessagesReduxForm onSubmit={addNewMessage} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst addNewMessage = (value, props) => {\r\n    props.sendMessage(value.newMessageBody);\r\n} \r\n\r\nconst maxLength100 = maxLengthCreater(100);\r\n\r\nconst AddMessageReduxForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} placeholder={\"Enter your message\"}name={'newMessageBody'}\r\n                validate={[required, maxLength100]} />\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MessagesReduxForm = reduxForm ({form: 'dialogAddMessageFormRedux'})(AddMessageReduxForm)\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { sendMessageCreator } from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}