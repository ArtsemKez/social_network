{"version":3,"sources":["common/FormsControls/FormsControls.module.css","common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Login/Login.jsx"],"names":["module","exports","formControl","error","formSammaryError","FormControl","_ref","input","meta","props","child","Object","E_Dev_Projects_social_network_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","ErrorText","touched","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","children","Textarea","restProps","assign","Input","createField","placeholder","component","name","validators","type","text","arguments","length","undefined","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","__webpack_require__","d","__webpack_exports__","required","maxLengthCreater","value","maxLength","concat","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","redux_form__WEBPACK_IMPORTED_MODULE_1__","_common_FormsControls_FormsControls__WEBPACK_IMPORTED_MODULE_2__","_utils_validators_validators__WEBPACK_IMPORTED_MODULE_3__","react_redux__WEBPACK_IMPORTED_MODULE_4__","_redux_auth_reducer__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","_common_FormsControls_FormsControls_module_css__WEBPACK_IMPORTED_MODULE_7__","_common_FormsControls_FormsControls_module_css__WEBPACK_IMPORTED_MODULE_7___default","LoginReduxForm","reduxForm","form","handleSubmit","captchaUrl","onSubmit","src","style","connect","state","isAuth","auth","login","to","formData","email","password","rememberMy","captcha"],"mappings":"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","file":"static/js/7.7f432618.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1DCiA\",\"error\":\"FormsControls_error__34F1X\",\"formSammaryError\":\"FormsControls_formSammaryError__2XN1r\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css'\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const ErrorText = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (ErrorText ? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div>\r\n                {ErrorText && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input  {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, component, name, validators, type, text=\"\", props={}) => (\r\n    <div>\r\n        <Field placeholder={placeholder} component={component} name={name} validate={validators} type={type} \r\n        {...props}  />{text}\r\n    </div>\r\n)","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Field as requaired\"\r\n}\r\n\r\nexport const maxLengthCreater = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} simbols`;\r\n    return undefined;\r\n}","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport { Input, createField } from '../../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"../../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit={handleSubmit} >\r\n            {createField(\"Email\", Input, 'email', [required])}\r\n            {createField(\"Password\", Input, 'password', [required], 'password')}\r\n            {createField(null, Input, 'rememberMy', null, \"checkbox\", \"Remember Me\")}\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", Input, 'captcha', [required])}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n        {error && <div className={style.formSammaryError}>\r\n            {error}\r\n        </div>}\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm ({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMy, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/Profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect (mapStateToProps, {login})(Login)"],"sourceRoot":""}